(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,65930,e=>{"use strict";var s=e.i(43476),a=e.i(71645),t=e.i(48425),i=a.forwardRef((e,a)=>(0,s.jsx)(t.Primitive.label,{...e,ref:a,onMouseDown:s=>{s.target.closest("button, input, select, textarea")||(e.onMouseDown?.(s),!s.defaultPrevented&&s.detail>1&&s.preventDefault())}}));i.displayName="Label";var r=e.i(80064);function l({className:e,...a}){return(0,s.jsx)(i,{"data-slot":"label",className:(0,r.cn)("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",e),...a})}e.s(["Label",()=>l],65930)},18670,e=>{"use strict";var s=e.i(43476);e.i(71645);var a=e.i(80064);function t({className:e,...t}){return(0,s.jsx)("div",{"data-slot":"card",className:(0,a.cn)("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",e),...t})}function i({className:e,...t}){return(0,s.jsx)("div",{"data-slot":"card-header",className:(0,a.cn)("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-2 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",e),...t})}function r({className:e,...t}){return(0,s.jsx)("div",{"data-slot":"card-title",className:(0,a.cn)("leading-none font-semibold",e),...t})}function l({className:e,...t}){return(0,s.jsx)("div",{"data-slot":"card-description",className:(0,a.cn)("text-muted-foreground text-sm",e),...t})}function o({className:e,...t}){return(0,s.jsx)("div",{"data-slot":"card-content",className:(0,a.cn)("px-6",e),...t})}e.s(["Card",()=>t,"CardContent",()=>o,"CardDescription",()=>l,"CardHeader",()=>i,"CardTitle",()=>r])},76794,e=>{"use strict";var s=e.i(43476);e.i(71645);var a=e.i(80064);function t({className:e,...t}){return(0,s.jsx)("textarea",{"data-slot":"textarea",className:(0,a.cn)("border-input placeholder:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 flex field-sizing-content min-h-16 w-full rounded-md border bg-transparent px-3 py-2 text-base shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),...t})}e.s(["Textarea",()=>t])},11550,e=>{"use strict";var s=e.i(43476),a=e.i(71645),t=e.i(63544),i=e.i(46696),r=e.i(56902),l=e.i(53269),o=e.i(65930),n=e.i(76794),d=e.i(43555),c=e.i(18670);function u(){let[e,u]=(0,a.useState)(!0),[h,m]=(0,a.useState)(!1),[x,g]=(0,a.useState)({siteTitle:"",schoolName:"",website:"",loginMessage:""});async function p(e){e.preventDefault(),m(!0);try{let e=await fetch("/api/school-info",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(x)}),s=await e.json();if(!e.ok)throw Error(s.error);i.toast.success("School settings updated")}catch(e){i.toast.error(e?.message||"Failed to save settings")}finally{m(!1)}}return((0,a.useEffect)(()=>{fetch("/api/school-info").then(e=>e.json()).then(e=>{let s=e.schoolInfo||{};g({siteTitle:s.site_title||"",schoolName:s.school_name||"",website:s.website||"",loginMessage:s.login_message||""})}).catch(()=>i.toast.error("Failed to load school info")).finally(()=>u(!1))},[]),e)?(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsx)(d.Skeleton,{className:"h-7 w-40"}),(0,s.jsx)(d.Skeleton,{className:"h-64 w-full"})]}):(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{className:"space-y-1",children:[(0,s.jsx)("h2",{className:"text-2xl font-semibold font-[var(--font-display)]",children:"School Details"}),(0,s.jsx)("p",{className:"text-sm text-muted-foreground",children:"Update campus profile and system branding"})]}),(0,s.jsxs)(c.Card,{children:[(0,s.jsx)(c.CardHeader,{children:(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)("div",{className:"flex h-9 w-9 items-center justify-center rounded-full bg-muted",children:(0,s.jsx)(t.School,{className:"h-4 w-4 text-foreground"})}),(0,s.jsxs)("div",{children:[(0,s.jsx)(c.CardTitle,{className:"text-base",children:"General Information"}),(0,s.jsx)(c.CardDescription,{children:"Visible across the platform"})]})]})}),(0,s.jsx)(c.CardContent,{children:(0,s.jsxs)("form",{onSubmit:p,className:"space-y-4",children:[(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(o.Label,{htmlFor:"siteTitle",children:"Site Title"}),(0,s.jsx)(l.Input,{id:"siteTitle",value:x.siteTitle,onChange:e=>g({...x,siteTitle:e.target.value}),placeholder:"eClassroom"})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(o.Label,{htmlFor:"schoolName",children:"School Name"}),(0,s.jsx)(l.Input,{id:"schoolName",value:x.schoolName,onChange:e=>g({...x,schoolName:e.target.value}),placeholder:"My School"})]})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(o.Label,{htmlFor:"website",children:"Website"}),(0,s.jsx)(l.Input,{id:"website",type:"url",value:x.website,onChange:e=>g({...x,website:e.target.value}),placeholder:"https://school.example.com"})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(o.Label,{htmlFor:"loginMessage",children:"Login Message"}),(0,s.jsx)(n.Textarea,{id:"loginMessage",value:x.loginMessage,onChange:e=>g({...x,loginMessage:e.target.value}),placeholder:"Message shown on the login page...",rows:3})]}),(0,s.jsx)("div",{className:"flex justify-end",children:(0,s.jsx)(r.Button,{type:"submit",disabled:h,children:h?"Saving...":"Save Settings"})})]})})]})]})}e.s(["default",()=>u])}]);