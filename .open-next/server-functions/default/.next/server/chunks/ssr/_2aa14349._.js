module.exports=[9020,34450,a=>{"use strict";var b=a.i(87924);a.i(72131);var c=a.i(187),d=a.i(76306),e=a.i(97630);let f=(0,c.cva)("inline-flex items-center justify-center rounded-full border border-transparent px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border-border text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground",ghost:"[a&]:hover:bg-accent [a&]:hover:text-accent-foreground",link:"text-primary underline-offset-4 [a&]:hover:underline"}},defaultVariants:{variant:"default"}});function g({className:a,variant:c="default",asChild:g=!1,...h}){let i=g?d.Slot.Root:"span";return(0,b.jsx)(i,{"data-slot":"badge","data-variant":c,className:(0,e.cn)(f({variant:c}),a),...h})}function h({className:a,...c}){return(0,b.jsx)("div",{"data-slot":"table-container",className:"relative w-full overflow-x-auto",children:(0,b.jsx)("table",{"data-slot":"table",className:(0,e.cn)("w-full caption-bottom text-sm",a),...c})})}function i({className:a,...c}){return(0,b.jsx)("thead",{"data-slot":"table-header",className:(0,e.cn)("[&_tr]:border-b",a),...c})}function j({className:a,...c}){return(0,b.jsx)("tbody",{"data-slot":"table-body",className:(0,e.cn)("[&_tr:last-child]:border-0",a),...c})}function k({className:a,...c}){return(0,b.jsx)("tr",{"data-slot":"table-row",className:(0,e.cn)("hover:bg-muted/50 data-[state=selected]:bg-muted border-b transition-colors",a),...c})}function l({className:a,...c}){return(0,b.jsx)("th",{"data-slot":"table-head",className:(0,e.cn)("text-foreground h-10 px-2 text-left align-middle font-medium whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",a),...c})}function m({className:a,...c}){return(0,b.jsx)("td",{"data-slot":"table-cell",className:(0,e.cn)("p-2 align-middle whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",a),...c})}function n({className:a,...c}){return(0,b.jsx)("caption",{"data-slot":"table-caption",className:(0,e.cn)("text-muted-foreground mt-4 text-sm",a),...c})}a.s(["Badge",()=>g],9020),a.s(["Table",()=>h,"TableBody",()=>j,"TableCaption",()=>n,"TableCell",()=>m,"TableHead",()=>l,"TableHeader",()=>i,"TableRow",()=>k],34450)},21078,a=>{"use strict";var b=a.i(87924);a.i(72131);var c=a.i(97630);function d({className:a,...d}){return(0,b.jsx)("div",{"data-slot":"card",className:(0,c.cn)("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",a),...d})}function e({className:a,...d}){return(0,b.jsx)("div",{"data-slot":"card-header",className:(0,c.cn)("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-2 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",a),...d})}function f({className:a,...d}){return(0,b.jsx)("div",{"data-slot":"card-title",className:(0,c.cn)("leading-none font-semibold",a),...d})}function g({className:a,...d}){return(0,b.jsx)("div",{"data-slot":"card-description",className:(0,c.cn)("text-muted-foreground text-sm",a),...d})}function h({className:a,...d}){return(0,b.jsx)("div",{"data-slot":"card-content",className:(0,c.cn)("px-6",a),...d})}a.s(["Card",()=>d,"CardContent",()=>h,"CardDescription",()=>g,"CardHeader",()=>e,"CardTitle",()=>f])},60246,a=>{"use strict";let b=(0,a.i(70106).default)("users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]]);a.s(["Users",()=>b],60246)},53722,a=>{"use strict";let b=(0,a.i(70106).default)("book-open",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]]);a.s(["BookOpen",()=>b],53722)},71198,a=>{"use strict";var b=a.i(87924),c=a.i(72131);let d=(0,a.i(70106).default)("chart-column",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);var e=a.i(60246),f=a.i(70737),g=a.i(53722),h=a.i(23292),i=a.i(9020),j=a.i(62668),k=a.i(21078),l=a.i(34450);function m({title:a,value:c,description:d,icon:e}){return(0,b.jsxs)(k.Card,{children:[(0,b.jsxs)(k.CardHeader,{className:"flex flex-row items-center justify-between pb-2",children:[(0,b.jsx)(k.CardDescription,{children:a}),(0,b.jsx)(e,{className:"h-4 w-4 text-muted-foreground"})]}),(0,b.jsxs)(k.CardContent,{children:[(0,b.jsx)("div",{className:"text-3xl font-bold",children:c}),(0,b.jsx)("p",{className:"text-xs text-muted-foreground",children:d})]})]})}function n({data:a,labelKey:c,valueKey:d,maxValue:e}){if(!a||0===a.length)return(0,b.jsx)("p",{className:"py-4 text-center text-sm text-muted-foreground",children:"No data yet"});let f=e||Math.max(...a.map(a=>a[d]),1);return(0,b.jsx)("div",{className:"space-y-2",children:a.map((a,e)=>(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)("span",{className:"w-28 truncate text-sm text-muted-foreground",children:a[c]}),(0,b.jsx)("div",{className:"flex-1",children:(0,b.jsx)("div",{className:"h-6 rounded bg-primary/20 transition-all",style:{width:`${Math.max(a[d]/f*100,4)}%`},children:(0,b.jsx)("span",{className:"flex h-full items-center px-2 text-xs font-medium text-primary",children:a[d]})})})]},e))})}function o(){let[a,o]=(0,c.useState)(null),[p,q]=(0,c.useState)(!0);if((0,c.useEffect)(()=>{fetch("/api/stats").then(a=>a.json()).then(a=>o(a.stats||null)).catch(()=>h.toast.error("Failed to load statistics")).finally(()=>q(!1))},[]),p)return(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsx)(j.Skeleton,{className:"h-7 w-40"}),(0,b.jsxs)("div",{className:"grid gap-4 md:grid-cols-3",children:[(0,b.jsx)(j.Skeleton,{className:"h-28"}),(0,b.jsx)(j.Skeleton,{className:"h-28"}),(0,b.jsx)(j.Skeleton,{className:"h-28"})]}),(0,b.jsx)(j.Skeleton,{className:"h-64"})]});if(!a)return(0,b.jsxs)("div",{className:"flex flex-col items-center justify-center gap-3 py-16 text-center",children:[(0,b.jsx)(d,{className:"h-10 w-10 text-muted-foreground"}),(0,b.jsx)("p",{className:"font-medium",children:"Unable to load statistics"})]});let r=a.statusBreakdown.find(a=>"approved"===a.status)?.count||0,s=a.statusBreakdown.find(a=>"pending"===a.status)?.count||0,t=a.statusBreakdown.find(a=>"rejected"===a.status)?.count||0;return(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsxs)("div",{className:"space-y-1",children:[(0,b.jsx)("h2",{className:"text-2xl font-semibold font-[var(--font-display)]",children:"Statistics"}),(0,b.jsx)("p",{className:"text-sm text-muted-foreground",children:"Analyze usage patterns and booking demand across campus"})]}),(0,b.jsxs)("div",{className:"grid gap-4 md:grid-cols-3",children:[(0,b.jsx)(m,{title:"Total Bookings",value:a.totalBookings,description:"All time",icon:g.BookOpen}),(0,b.jsx)(m,{title:"Total Users",value:a.totalUsers,description:"Registered accounts",icon:e.Users}),(0,b.jsx)(m,{title:"Total Classrooms",value:a.totalClassrooms,description:"Managed rooms",icon:f.School})]}),(0,b.jsxs)("div",{className:"grid gap-4 md:grid-cols-3",children:[(0,b.jsx)(k.Card,{children:(0,b.jsxs)(k.CardHeader,{className:"pb-2",children:[(0,b.jsx)(k.CardDescription,{children:"Approved"}),(0,b.jsx)(k.CardTitle,{className:"text-2xl text-emerald-600",children:r})]})}),(0,b.jsx)(k.Card,{children:(0,b.jsxs)(k.CardHeader,{className:"pb-2",children:[(0,b.jsx)(k.CardDescription,{children:"Pending"}),(0,b.jsx)(k.CardTitle,{className:"text-2xl text-amber-600",children:s})]})}),(0,b.jsx)(k.Card,{children:(0,b.jsxs)(k.CardHeader,{className:"pb-2",children:[(0,b.jsx)(k.CardDescription,{children:"Rejected"}),(0,b.jsx)(k.CardTitle,{className:"text-2xl text-rose-600",children:t})]})})]}),(0,b.jsxs)("div",{className:"grid gap-6 lg:grid-cols-2",children:[(0,b.jsxs)(k.Card,{children:[(0,b.jsxs)(k.CardHeader,{children:[(0,b.jsx)(k.CardTitle,{className:"text-base",children:"Monthly Bookings"}),(0,b.jsx)(k.CardDescription,{children:"Last 12 months"})]}),(0,b.jsx)(k.CardContent,{children:(0,b.jsx)(n,{data:a.monthlyBookings,labelKey:"month",valueKey:"count"})})]}),(0,b.jsxs)(k.Card,{children:[(0,b.jsxs)(k.CardHeader,{children:[(0,b.jsx)(k.CardTitle,{className:"text-base",children:"Most Booked Rooms"}),(0,b.jsx)(k.CardDescription,{children:"Top 10 classrooms"})]}),(0,b.jsx)(k.CardContent,{children:0===a.topRooms.length?(0,b.jsx)("p",{className:"py-4 text-center text-sm text-muted-foreground",children:"No bookings yet"}):(0,b.jsxs)(l.Table,{children:[(0,b.jsx)(l.TableHeader,{children:(0,b.jsxs)(l.TableRow,{children:[(0,b.jsx)(l.TableHead,{children:"Classroom"}),(0,b.jsx)(l.TableHead,{className:"text-right",children:"Bookings"})]})}),(0,b.jsx)(l.TableBody,{children:a.topRooms.map((a,c)=>(0,b.jsxs)(l.TableRow,{children:[(0,b.jsx)(l.TableCell,{className:"font-medium",children:a.name}),(0,b.jsx)(l.TableCell,{className:"text-right",children:(0,b.jsx)(i.Badge,{variant:"secondary",children:a.booking_count})})]},c))})]})})]}),(0,b.jsxs)(k.Card,{className:"lg:col-span-2",children:[(0,b.jsxs)(k.CardHeader,{children:[(0,b.jsx)(k.CardTitle,{className:"text-base",children:"Most Active Users"}),(0,b.jsx)(k.CardDescription,{children:"Top 10 by booking count"})]}),(0,b.jsx)(k.CardContent,{children:0===a.topUsers.length?(0,b.jsx)("p",{className:"py-4 text-center text-sm text-muted-foreground",children:"No bookings yet"}):(0,b.jsxs)(l.Table,{children:[(0,b.jsx)(l.TableHeader,{children:(0,b.jsxs)(l.TableRow,{children:[(0,b.jsx)(l.TableHead,{children:"User"}),(0,b.jsx)(l.TableHead,{children:"Email"}),(0,b.jsx)(l.TableHead,{className:"text-right",children:"Bookings"})]})}),(0,b.jsx)(l.TableBody,{children:a.topUsers.map((a,c)=>(0,b.jsxs)(l.TableRow,{children:[(0,b.jsx)(l.TableCell,{className:"font-medium",children:a.full_name||"â€”"}),(0,b.jsx)(l.TableCell,{className:"text-muted-foreground",children:a.email}),(0,b.jsx)(l.TableCell,{className:"text-right",children:(0,b.jsx)(i.Badge,{variant:"secondary",children:a.booking_count})})]},c))})]})})]})]})]})}a.s(["default",()=>o],71198)}];

//# sourceMappingURL=_2aa14349._.js.map