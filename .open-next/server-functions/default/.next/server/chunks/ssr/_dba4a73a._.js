module.exports=[13749,50522,a=>{"use strict";let b=(0,a.i(70106).default)("chevron-left",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);a.s(["ChevronLeft",()=>b],13749);var c=a.i(11989);a.s(["ChevronRight",()=>c.default],50522)},60702,a=>{"use strict";let b=(0,a.i(70106).default)("calendar-days",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]]);a.s(["CalendarDays",()=>b],60702)},92406,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(50944),e=a.i(60702),f=a.i(13749),g=a.i(50522);a.i(23292);var h=a.i(49881),i=a.i(97074);let j=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"];function k(){let a=(0,d.useRouter)(),[k,l]=(0,c.useState)(()=>new Date),[m,n]=(0,c.useState)("all"),[o,p]=(0,c.useState)([]),[q,r]=(0,c.useState)({}),s=(0,c.useMemo)(()=>k.toLocaleDateString("en-US",{month:"long",year:"numeric"}),[k]),t=(0,c.useMemo)(()=>(function(a){let b=a.getFullYear(),c=a.getMonth(),d=new Date(b,c,1).getDay(),e=new Date(b,c+1,0).getDate(),f=new Date(b,c,0).getDate(),g=[];for(let a=0;a<42;a+=1){let h=a-d+1,i=h,j=!0;h<=0?(i=f+h,j=!1):h>e&&(i=h-e,j=!1),g.push({day:i,isCurrentMonth:j,date:new Date(b,c,h)})}return g})(k),[k]),u=new Date,v=`${u.getFullYear()}-${u.getMonth()}-${u.getDate()}`;return(0,c.useEffect)(()=>{fetch("/api/room-groups").then(a=>a.json()).then(a=>p(a.roomGroups||[])).catch(()=>{})},[]),(0,c.useEffect)(()=>{let a=k.getFullYear(),b=k.getMonth(),c=new Date(a,b+1,0).getDate(),d={},e=[];for(let f=1;f<=c;f++){let c=`${a}-${String(b+1).padStart(2,"0")}-${String(f).padStart(2,"0")}`,g="all"!==m?`&groupId=${m}`:"";e.push(fetch(`/api/bookings?date=${c}${g}`).then(a=>a.json()).then(a=>{d[c]=(a.bookings||[]).length}).catch(()=>{d[c]=0}))}Promise.all(e).then(()=>r({...d}))},[k,m]),(0,b.jsx)("div",{className:"space-y-6",children:(0,b.jsxs)("div",{className:"rounded-lg border bg-card p-6 shadow-sm",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2 border-b pb-3",children:[(0,b.jsx)(e.CalendarDays,{className:"h-5 w-5 text-foreground"}),(0,b.jsx)("h2",{className:"text-lg font-semibold text-foreground",children:"Booking Calendar"})]}),(0,b.jsxs)("div",{className:"mt-4 flex flex-wrap items-center gap-3 text-sm",children:[(0,b.jsx)("span",{className:"text-muted-foreground",children:"Filter by Group:"}),(0,b.jsxs)(i.Select,{value:m,onValueChange:n,children:[(0,b.jsx)(i.SelectTrigger,{className:"w-48",children:(0,b.jsx)(i.SelectValue,{})}),(0,b.jsxs)(i.SelectContent,{children:[(0,b.jsx)(i.SelectItem,{value:"all",children:"All Groups"}),o.map(a=>(0,b.jsx)(i.SelectItem,{value:String(a.id),children:a.name},a.id))]})]})]}),(0,b.jsxs)("div",{className:"mt-4 flex items-center justify-between gap-2",children:[(0,b.jsxs)(h.Button,{variant:"outline",size:"sm",onClick:()=>l(a=>new Date(a.getFullYear(),a.getMonth()-1,1)),children:[(0,b.jsx)(f.ChevronLeft,{className:"mr-1 h-4 w-4"}),"Previous Month"]}),(0,b.jsx)("h3",{className:"text-base font-semibold text-foreground",children:s}),(0,b.jsxs)(h.Button,{variant:"outline",size:"sm",onClick:()=>l(a=>new Date(a.getFullYear(),a.getMonth()+1,1)),children:["Next Month",(0,b.jsx)(g.ChevronRight,{className:"ml-1 h-4 w-4"})]})]}),(0,b.jsx)("div",{className:"mt-4 overflow-x-auto",children:(0,b.jsxs)("div",{className:"min-w-[800px]",children:[(0,b.jsx)("div",{className:"grid grid-cols-7 rounded-md bg-muted/40 text-center text-xs font-semibold uppercase text-muted-foreground",children:j.map(a=>(0,b.jsx)("div",{className:"py-2",children:a},a))}),(0,b.jsx)("div",{className:"mt-1 grid grid-cols-7 gap-1",children:t.map((c,d)=>{var e;let f=`${c.date.getFullYear()}-${c.date.getMonth()}-${c.date.getDate()}`,g=f===v&&c.isCurrentMonth,h=c.isCurrentMonth?(e=c.date,`${e.getFullYear()}-${String(e.getMonth()+1).padStart(2,"0")}-${String(e.getDate()).padStart(2,"0")}`):null,i=h&&q[h]||0;return(0,b.jsxs)("div",{onClick:()=>{c.isCurrentMonth&&a.push(`/dashboard/classrooms?date=${h}`)},className:`min-h-[90px] rounded-sm border p-2 text-xs ${c.isCurrentMonth?"bg-background cursor-pointer hover:bg-accent/50 transition-colors":"bg-muted/20 text-muted-foreground"} ${g?"bg-foreground/5":""}`,children:[(0,b.jsx)("div",{className:"text-right text-[0.7rem] font-semibold",children:(0,b.jsx)("span",{className:g?"text-foreground":"",children:c.day})}),c.isCurrentMonth&&i>0&&(0,b.jsxs)("div",{className:"mt-1 rounded bg-primary/10 px-1.5 py-0.5 text-center text-[0.65rem] font-medium text-primary",children:[i," booking",1!==i?"s":""]})]},`${f}-${d}`)})})]})})]})})}a.s(["default",()=>k])}];

//# sourceMappingURL=_dba4a73a._.js.map